(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,n){},29:function(e,t,n){e.exports=n.p+"static/media/Equipment.e108aeb5.png"},34:function(e,t,n){e.exports=n(52)},39:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(15),c=n.n(r),l=(n(39),n(9)),o=n(10),u=n(12),m=n(11),s=n(13),p=(n(27),n(8)),h=n.n(p),d=n(16),E=n(4),f=n(3),O=n(53),b=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={isOpen:!1},n.toggle=n.toggle.bind(Object(E.a)(Object(E.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return i.a.createElement(f.l,{color:"faded",light:!0,expand:"md"},i.a.createElement(f.m,{tag:O.a,to:"/"},"Home"),i.a.createElement(f.n,{onClick:this.toggle}),i.a.createElement(f.c,{isOpen:this.state.isOpen,navbar:!0},i.a.createElement(f.i,{className:"ml-auto",navbar:!0},i.a.createElement(f.j,null,i.a.createElement(f.k,{href:"https://github.com/stuvwxyz/equipment-ui"},"GitHub")))))}}]),t}(a.Component),w=n(29),v=n.n(w),q=n(14),g=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={isLoading:!0,isAuthenticated:!1,user:void 0};var a=e.cookies;return n.state.csrfToken=a.get("XSRF-TOKEN"),n.login=n.login.bind(Object(E.a)(Object(E.a)(n))),n.logout=n.logout.bind(Object(E.a)(Object(E.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(h.a.mark(function e(){var t,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user",{credentials:"include"});case 2:return t=e.sent,e.next=5,t.text();case 5:""===(n=e.sent)?this.setState({isAuthenticated:!1}):this.setState({isAuthenticated:!0,user:JSON.parse(n)});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=window.location.port?":"+window.location.port:"";":3000"===e&&(e=":8080"),window.location.href="//"+window.location.hostname+e+"/private"}},{key:"logout",value:function(){fetch("/api/logout",{method:"POST",credentials:"include",headers:{"X-XSRF-TOKEN":this.state.csrfToken}}).then(function(e){return e.json()}).then(function(e){window.location.href=e.logoutUrl+"?id_token_hint="+e.idToken+"&post_logout_redirect_uri="+window.location.origin})}},{key:"render",value:function(){var e=this.state.user?i.a.createElement("h2",null,"Welcome, ",this.state.user.name,"!"):i.a.createElement("p",null,"Please log in to manage your equipment rentals."),t=this.state.isAuthenticated?i.a.createElement("div",null,i.a.createElement(f.a,{color:"link"},i.a.createElement(O.a,{to:"/equipment"},"Manage Equipment")),i.a.createElement("br",null),i.a.createElement(f.a,{color:"link",onClick:this.logout},"Logout")):i.a.createElement(f.a,{color:"primary",onClick:this.login},"Login");return i.a.createElement("div",null,i.a.createElement(b,null),i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("img",{src:v.a,className:"App-logo",alt:"homeImage"}),i.a.createElement(f.d,{fluid:!0},e,t))))}}]),t}(a.Component),j=Object(q.b)(g),y=n(55),C=n(57),k=n(54),S=n(32),x=n(56),N=function(e){function t(e){var n;Object(l.a)(this,t),n=Object(u.a)(this,Object(m.a)(t).call(this,e));var a=e.cookies;return n.state={equipment:[],csrfToken:a.get("XSRF-TOKEN"),isLoading:!0},n.remove=n.remove.bind(Object(E.a)(Object(E.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("/api/equipment",{credentials:"include"}).then(function(e){return e.json()}).then(function(t){return e.setState({equipment:t,isLoading:!1})}).catch(function(){return e.props.history.push("/")})}},{key:"remove",value:function(){var e=Object(d.a)(h.a.mark(function e(t){var n=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/equipment/".concat(t),{method:"DELETE",headers:{"X-XSRF-TOKEN":this.state.csrfToken,Accept:"application/json","Content-Type":"application/json"},credentials:"include"}).then(function(){var e=Object(S.a)(n.state.equipment).filter(function(e){return e.id!==t});n.setState({equipment:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.equipment;if(t.isLoading)return i.a.createElement("p",null,"Loading...");var a=n.map(function(t){return i.a.createElement("tr",{key:t.id},i.a.createElement("td",null,i.a.createElement(f.b,{className:"float-lef   t"},i.a.createElement(f.a,{size:"sm",color:"primary",tag:O.a,to:"/equipmentedit/"+t.equipmentId},"Update"))),i.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.equipmentName),i.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.equipmentAvailable),i.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.equipmentCost),i.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.equipmentDescription),i.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.equipmentOwner),i.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.equipmentOwnerPhone),i.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.equipmentOwnerEmail),i.a.createElement("td",null,i.a.createElement(f.b,{className:"float-right"},i.a.createElement(f.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.equipmentId)}},"Remove"))))});return i.a.createElement("div",null,i.a.createElement(b,null),i.a.createElement(f.d,{fluid:!0},i.a.createElement("div",{className:"float-right"},i.a.createElement(f.a,{color:"success",tag:O.a,to:"/equipmentedit/new"},"Add Equipment")),i.a.createElement("h3",null,"Equipment List"),i.a.createElement(f.o,{className:"mt-4"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{width:"10%"},"Update"),i.a.createElement("th",{width:"10%"},"Item"),i.a.createElement("th",{width:"10%"},"Available"),i.a.createElement("th",{width:"15%"},"Rental Cost"),i.a.createElement("th",{width:"20%"},"Description"),i.a.createElement("th",{width:"15%"},"Owner"),i.a.createElement("th",{width:"10%"},"Owner Phone"),i.a.createElement("th",{width:"15%"},"Owner Email"),i.a.createElement("th",{width:"10%"},"Remove"))),i.a.createElement("tbody",null,a))))}}]),t}(a.Component),A=Object(q.b)(Object(x.a)(N)),T=n(33),D=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).emptyItem={equipmentName:"",equipmentAvailable:"",equipmentCost:"",equipmentDescription:"",equipmentOwner:"",equipmentOwnerPhone:"",equipmentOwnerEmail:""};var a=e.cookies;return n.state={item:n.emptyItem,csrfToken:a.get("XSRF-TOKEN")},n.handleChange=n.handleChange.bind(Object(E.a)(Object(E.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(E.a)(Object(E.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=13;break}return e.prev=1,e.next=4,fetch("/api/equipment/".concat(this.props.match.params.id),{credentials:"include"});case 4:return e.next=6,e.sent.json();case 6:t=e.sent,this.setState({item:t}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),this.props.history.push("/");case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,n=t.value,a=t.name,i=Object(T.a)({},this.state.item);i[a]=n,this.setState({item:i})}},{key:"handleSubmit",value:function(){var e=Object(d.a)(h.a.mark(function e(t){var n,a,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=this.state,a=n.item,i=n.csrfToken,e.next=4,fetch("/api/equipment",{method:a.id?"PUT":"POST",headers:{"X-XSRF-TOKEN":i,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a),credentials:"include"});case 4:this.props.history.push("/equipment");case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.item,t=i.a.createElement("h2",null,e.id?"Edit Equipment":"Add Equipment");return i.a.createElement("div",null,i.a.createElement(b,null),i.a.createElement(f.d,null,t,i.a.createElement(f.e,{onSubmit:this.handleSubmit},i.a.createElement(f.f,null,i.a.createElement(f.h,{for:"equipmentName"},"equipmentName"),i.a.createElement(f.g,{type:"text",name:"equipmentName",id:"equipmentName",value:e.equipmentName||"",onChange:this.handleChange,autoComplete:"equipmentName"})),i.a.createElement(f.f,null,i.a.createElement(f.h,{for:"equipmentAvailable"},"equipmentAvailable"),i.a.createElement(f.g,{type:"boolean",name:"equipmentAvailable",id:"equipmentAvailable",value:e.equipmentAvailable||"",onChange:this.handleChange,autoComplete:"equipmentAvailable"})),i.a.createElement(f.f,null,i.a.createElement(f.h,{for:"equipmentCost"},"equipmentCost"),i.a.createElement(f.g,{type:"text",name:"equipmentCost",id:"equipmentCost",value:e.equipmentCost||"",onChange:this.handleChange,autoComplete:"equipmentCost"})),i.a.createElement(f.f,null,i.a.createElement(f.h,{for:"equipmentDescription"},"equipmentDescription"),i.a.createElement(f.g,{type:"text",name:"equipmentDescription",id:"equipmentDescription",value:e.equipmentDescription||"",onChange:this.handleChange,autoComplete:"equipmentDescription"})),i.a.createElement(f.f,null,i.a.createElement(f.h,{for:"equipmentOwner"},"equipmentOwner"),i.a.createElement(f.g,{type:"text",name:"equipmentOwner",id:"equipmentOwner",value:e.equipmentOwner||"",onChange:this.handleChange,autoComplete:"equipmentOwner"})),i.a.createElement(f.f,null,i.a.createElement(f.h,{for:"equipmentOwnerPhone"},"equipmentOwnerPhone"),i.a.createElement(f.g,{type:"text",name:"equipmentOwnerPhone",id:"equipmentOwnerPhone",value:e.equipmentOwnerPhone||"",onChange:this.handleChange,autoComplete:"equipmentOwnerPhone"})),i.a.createElement(f.f,null,i.a.createElement(f.h,{for:"equipmentOwnerEmail"},"equipmentOwnerEmail"),i.a.createElement(f.g,{type:"text",name:"equipmentOwnerEmail",id:"equipmentOwnerEmail",value:e.equipmentOwnerEmail||"",onChange:this.handleChange,autoComplete:"equipmentOwnerEmail"})),i.a.createElement(f.f,null,i.a.createElement(f.a,{color:"primary",type:"submit"},"Save")," ",i.a.createElement(f.a,{color:"secondary",tag:O.a,to:"/equipment"},"Cancel")))))}}]),t}(a.Component),P=Object(q.b)(Object(x.a)(D)),L=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement(q.a,null,i.a.createElement(y.a,null,i.a.createElement(C.a,null,i.a.createElement(k.a,{path:"/",exact:!0,component:j}),i.a.createElement(k.a,{path:"/equipment",exact:!0,component:A}),i.a.createElement(k.a,{path:"/equipmentedit/:id",component:P}))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(50);c.a.render(i.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,2,1]]]);
//# sourceMappingURL=main.4c64b5ab.chunk.js.map